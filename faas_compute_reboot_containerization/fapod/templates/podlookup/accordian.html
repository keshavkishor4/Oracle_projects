{% load static %}
<div class="accordion" id="accordionFlushExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingOne">
        <button onclick="resource_data_collapse()"  class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
          PSR Resource Data
        </button>
      </h2>
      <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
        <div class="accordion-body">
          <div class="d-flex justify-content-center">
            <div class="spinner-border loader-spin-off" id="loader-sp-1">
            </div>
          </div>
            <div id="resource_data_result_div">

            </div>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingTwo">
          <button onclick="pod_basic_data_collapse()"  class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
            Full Pod Data
          </button>
      </h2>
      <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
        <div class="accordion-body">
          <div class="d-flex justify-content-center">
            <div class="spinner-border loader-spin-off" id="loader-sp-2">
            </div>
          </div>
            <div id="pod_basic_data_div">

            </div>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingThree">
        <button onclick="exa_data_collapse()" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
          EXADATA Details
        </button>
      </h2>
      <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
        <div class="accordion-body">
          <div class="d-flex justify-content-center">
            <div class="spinner-border loader-spin-off" id="loader-sp-3">
            </div>
          </div>
            <div id="exa_data_div">

            </div>
        </div>
      </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingFour">
          <button onclick="pod_instance_collapse()" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
            Pod Capacity/Instance Details
          </button>
        </h2>
        <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
          <div class="accordion-body">
            <div class="d-flex justify-content-center">
              <div class="spinner-border loader-spin-off" id="loader-sp-4">
              </div>
            </div>
           <div id="pod_instance_data_div">

           </div>
          </div>
        </div>
    </div>
</div>

{% load static %}
<script >
  var csrftoken = '{{ csrf_token }}'

  function resource_data_collapse() {
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-1");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            //console.out(this.responseText)
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
            document.getElementById("resource_data_result_div").innerHTML = this.responseText;
            //document.querySelector('#resource_data_result_div').insertHTML.replace(this.responseText);
              //document.querySelector('#resource_data_result_div').insertAdjacentHTML('beforeend', this.responseText);
          }
      }
  }
  ajax.open("GET", "{% url 'stamp_page' %}", true);
  ajax.send();
  }


  function pod_basic_data_collapse() {
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-2");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
              spin.classList.remove("loader-spin-on")
              spin.classList.add("loader-spin-off")
              document.getElementById("pod_basic_data_div").innerHTML = this.responseText;
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML(this.responseText);
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML('beforeend', this.responseText);
          }
      }
  }
  ajax.open("GET", "{% url 'PodBasicDataPage' %}", true);
  ajax.send();
  }

  function capacity_reservation_collapse() {
    console.log('Inside capacity')
      let ajax = new XMLHttpRequest();
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
              document.getElementById("capacity_reservation_data_div").innerHTML = this.responseText;
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML(this.responseText);
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML('beforeend', this.responseText);
          }
      }
  }
  ajax.open("GET", "{% url 'CapacityReservationPage' %}", true);
  ajax.send();
  }

  function exa_data_collapse() {
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-3");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("exa_data_div").innerHTML = this.responseText;
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML(this.responseText);
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML('beforeend', this.responseText);
          }
      }
  }
  ajax.open("GET", "{% url 'ExaDataFetchMethodPage' %}", true);
  ajax.send();
  }

  function pod_instance_collapse() {
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-4");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("pod_instance_data_div").innerHTML = this.responseText;
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML(this.responseText);
              //document.querySelector('#pod_basic_data_div').insertAdjacentHTML('beforeend', this.responseText);
          }
      }
  }
  ajax.open("GET", "{% url 'PodInstanceDataPage' %}", true);
  ajax.send();
  }

  function pod_inst(instance_id_data,region_name) {
      console.log(instance_id_data)
      console.log(region_name)
      try{
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-8");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("instance_data_model").innerHTML = this.responseText;
              //console.log(this.responseText)
          }
      }
  }
  ajax.open("POST", "{% url 'InstData' %}", true);
  ajax.setRequestHeader("X-CSRFToken",csrftoken)
  const data = new FormData()
  data.append('instance_id',instance_id_data)
  data.append('region',region_name)
  ajax.send(data);
  }
  catch (e){
    console.log(e);
  }

  }


  function cap_view(instance_id_data,region_name) {
    //  console.log(instance_id_data)
    //  console.log(region_name)
      try{
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-9");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("cap_view_data_button").innerHTML = this.responseText;
              //console.log(this.responseText)
          }
      }
  }
  ajax.open("POST", "{% url 'CapView' %}", true);
  ajax.setRequestHeader("X-CSRFToken",csrftoken)
  const data = new FormData()
  data.append('instance_id',instance_id_data)
  data.append('region',region_name)
  ajax.send(data);
  }
  catch (e){
    console.log(e);
  }

  }

  function lbaas_view(lbaas_id,region_name) {
      console.log(lbaas_id)
      console.log(region_name)
      try{
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-5");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("lbaas_data_button").innerHTML = this.responseText;
              //console.log(this.responseText)
          }
      }
  }
  ajax.open("POST", "{% url 'LBaasIdView' %}", true);
  ajax.setRequestHeader("X-CSRFToken",csrftoken)
  const data = new FormData()
  data.append('lbaas_id',lbaas_id)
  data.append('region',region_name)
  ajax.send(data);
  }
  catch (e){
    console.log(e);
  }
  }

  function exadata_method(exadata) {
      console.log(exadata)
      //console.log(region_name)
      try{
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-6");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("exa_data_button").innerHTML = this.responseText;
              //console.log(this.responseText)
          }
      }
  }
  ajax.open("POST", "{% url 'ExaDataNodeView' %}", true);
  ajax.setRequestHeader("X-CSRFToken",csrftoken)
  const data = new FormData()
  data.append('exa_id',exadata)
  ajax.send(data);
  }
  catch (e){
    console.log(e);
  }
  }

  function pod_host_ajaxcall(pod_host) {
      console.log(pod_host)
      //console.log(region_name)
      try{
      let ajax = new XMLHttpRequest();
      var spin=document.getElementById("loader-sp-7");
      spin.classList.remove("loader-spin-off")
      spin.classList.add("loader-spin-on")
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
            spin.classList.remove("loader-spin-on")
            spin.classList.add("loader-spin-off")
              document.getElementById("pod-host-tag").innerHTML = this.responseText;
              //console.log(this.responseText)
          }
      }
  }
  ajax.open("POST", "{% url 'ExaDataNodeView' %}", true);
  ajax.setRequestHeader("X-CSRFToken",csrftoken)
  const data = new FormData()
  data.append('exa_id',pod_host)
  ajax.send(data);
  }
  catch (e){
    console.log(e);
  }
  }


  function pod_capacity_data() {
      console.log('inside pod capacity ajax script')
      //console.log(region_name)
      try{
      let ajax = new XMLHttpRequest();
      ajax.onreadystatechange = function(){
      if (this.readyState === 4){
          if (this.status === 200){
              document.getElementById("pod_capacity_button").innerHTML = this.responseText;
              //console.log(this.responseText)
          }
      }
  }
  ajax.open("GET", "{% url 'test_page_for_podcapacity' %}", true);
  ajax.send();
  }
  catch (e){
    console.log(e);
  }
  }

</script>
